<nav class="navbar" role="navigation" aria-label="Main">
    <div class="inner">
        <a href="/" class="navbar-brand">
            <img src="assets/images/logo.png" alt="Home" width="32" height="32" />
        </a>

        <button class="navbar-toggle" id="navbarToggle" aria-label="Toggle menu" aria-controls="navbarItems"
            aria-expanded="false">
            <span class="burger" aria-hidden="true">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </span>
            <span class="sr-only">Menu</span>
        </button>

        <ul class="navbar-menu" id="navbarItems">
            <li><a href="/" id="navbarHome">home</a></li>
            <li><a href="/about" id="navbarAbout">about</a></li>
            <li><a href="/projects" id="navbarProjects">projects</a></li>
            <li><a href="/contact" id="navbarContact">contact</a></li>
        </ul>
    </div>
</nav>

<script>
    // highlight active link
    document.querySelectorAll("#navbarItems a").forEach((link) => {
        if (link.href === window.location.href) {
            link.classList.add("active");
            link.setAttribute("aria-current", "page");
        }
    });

    // toggle menu
    const btn = document.getElementById("navbarToggle");
    const menu = document.getElementById("navbarItems");
    btn.addEventListener("click", () => {
        const expanded = btn.getAttribute("aria-expanded") === "true";
        btn.setAttribute("aria-expanded", String(!expanded));
        menu.classList.toggle("is-open");
    });

    // close on escape and when clicking a link
    document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
            btn.setAttribute("aria-expanded", "false");
            menu.classList.remove("is-open");
        }
    });
    menu.addEventListener("click", (e) => {
        if (e.target.tagName === "A") {
            btn.setAttribute("aria-expanded", "false");
            menu.classList.remove("is-open");
        }
    });
</script>
